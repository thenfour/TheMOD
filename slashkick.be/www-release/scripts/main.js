bind=function(e,t){return t.bind(e)};var SlashKickApp=function(){this.startTime=Date.now(),this.camera=new THREE.Camera,this.camera.position.z=0,this.scene=new THREE.Scene;var e=new THREE.TextureLoader,t=new THREE.PlaneBufferGeometry(2,2);this.uniforms={iGlobalTime:{type:"f",value:1},iResolution:{type:"v3",value:new THREE.Vector3},iDate:{type:"v4",value:new THREE.Vector4},iMouse:{type:"v4",value:new THREE.Vector4},iFFT:{type:"f",value:0},kickTexture:{type:"t",value:e.load("images/KICK.png")}};var n=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent}),r=new THREE.Mesh(t,n);this.scene.add(r),this.renderer=new THREE.WebGLRenderer;var i=document.getElementById("glBody");i.appendChild(this.renderer.domElement),this.onWindowResize(),window.addEventListener("resize",bind(this,function(){this.onWindowResize()}),!1),this.doAnimFrame()};SlashKickApp.prototype.uvToWindowCoords=function(e,t){var n={x:e.x,y:e.y};return n.y+=n.x*.3333,t.x>t.y?n.x/=t.x/t.y:n.y*=t.x/t.y,n.y-=-0.3,n.x-=.3,n.x/=2.1,n.y/=2.1,n.x+=.5,n.x*=t.x,n.y+=.5,n.y*=t.y,n.y=t.y-n.y,n},SlashKickApp.prototype.onWindowResize=function(){var e=window.innerWidth,t=window.innerHeight;this.uniforms.iResolution.value.x=e,this.uniforms.iResolution.value.y=t,this.uniforms.iResolution.value.z=0,this.renderer.setSize(e,t);var n={x:e,y:t},r=this.uvToWindowCoords({x:-0.13,y:-0.6},n),i=this.uvToWindowCoords({x:1.5,y:1.5},n);r.x=Math.min(Math.max(0,r.x),n.x),r.y=Math.min(Math.max(0,r.y),n.y),i.x=Math.min(Math.max(0,i.x),n.x),i.y=Math.min(Math.max(0,i.y),n.y);var s="0",o="skew(0,-"+Math.atan(.33333)+"rad)";$("#desc").css({top:r.y+"px",left:r.x+"px",width:Math.abs(i.x-r.x)+"px",height:Math.abs(i.y-r.y)+"px","-webkit-transform-origin":"0","-webkit-transform":s,"-ms-transform-origin":"0","-ms-transform":s,"transform-origin":"0",transform:s})},SlashKickApp.prototype.doAnimFrame=function(){requestAnimationFrame(bind(this,function(){this.doAnimFrame()})),this.drawScene()},SlashKickApp.prototype.drawScene=function(){var e=Date.now();this.uniforms.iGlobalTime.value=(e-this.startTime)*.001,this.uniforms.iDate.value.x=e.year,this.uniforms.iDate.value.y=e.month,this.uniforms.iDate.value.z=e.day,this.uniforms.iDate.value.w=e.second+e.milliseconds,this.uniforms.iMouse.value.x=0,this.uniforms.iMouse.value.y=0,this.uniforms.iMouse.value.z=0,this.uniforms.iMouse.value.w=0,this.uniforms.iFFT.value=0,this.renderer.render(this.scene,this.camera)},window.onload=function(){window.slashKickApp=new SlashKickApp},define("main",function(){});